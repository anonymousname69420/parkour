local a=game:service("Players").LocalPlayer;local b=a:GetMouse()local c=workspace.CurrentCamera;local d=a.Character;local e=d:findFirstChild("Torso")local f=d:findFirstChild("Right Arm")local g=d:findFirstChild("Left Arm")local h=d:findFirstChild("Right Leg")local i=d:findFirstChild("Left Leg")local j=d:findFirstChild("Head")local k=d:findFirstChild("Humanoid")local l=e:findFirstChild("Right Shoulder")local m=e:findFirstChild("Left Shoulder")local n=e:findFirstChild("Right Hip")local o=e:findFirstChild("Left Hip")local p=e:findFirstChild("Neck")local q=Vector3.new(0,0,0)local r=70;local s,t,u=false,false,false;local v=0;local w=false;local x=0;local y=q;local z=CFrame.new(0,0,0)local A,B;local C=false;local D=false;local E;local F=0;local G;local H=false;local I;local J=0;local K,L=false,false;local M=false;local N=0;local O=true;local P="Standing"local Q=true;local R=0;local S=0.01;local T,U,V,W,X;for Y,Z in pairs(d:children())do if Z.className=="LocalScript"and Z.Name=="ParkourSkrip"or Z.className=="NumberValue"or Z.className=="BoolValue"or Z.className=="Model"or Z.Name=="Animate"then Z:remove()end end;local _={112474909,112474911,112474909}local a0=10000;local a1=10000;local a2=28;local a3=a2;local a4=Instance.new("BoolValue",d)a4.Name="Pause"a4.Value=false;local a5=Instance.new("NumberValue",d)a5.Name="Flow"a5.Value=0;local a6=0;local a7=Instance.new("Model",d)a7.Name="FlowChainPartz"local a8=Instance.new("Part")a8.Name="TrailPart"a8.formFactor="Custom"a8.Size=Vector3.new(0.2,0.2,0.2)a8.Locked=true;a8.Anchored=true;a8.CanCollide=false;a8.TopSurface=0;a8.BottomSurface=0;script.Name="ParkourSkrip"local a9=0;function HSV(j,aa,ab)j=j%360;local ac=ab*aa;local ad=j/60;local ae=ac*(1-math.abs(ad%2-1))local af=Color3.new(0,0,0)if ad<=0 then af=Color3.new(ac,0,0)elseif 0<=ad and ad<=1 then af=Color3.new(ac,ae,0)elseif 1<=ad and ad<=2 then af=Color3.new(ae,ac,0)elseif 2<=ad and ad<=3 then af=Color3.new(0,ac,ae)elseif 3<=ad and ad<=4 then af=Color3.new(0,ae,ac)elseif 4<=ad and ad<=5 then af=Color3.new(ae,0,ac)elseif 5<=ad and ad<=6 then af=Color3.new(ac,0,ae)end;local a7=ab-ac;return Color3.new(af.r+a7,af.g+a7,af.b+a7)end;function GetWeld(ag)if ag:findFirstChild("XAngle")==nil then local ah=Instance.new("NumberValue",ag)ah.Name="XAngle"end;if ag:findFirstChild("YAngle")==nil then local ah=Instance.new("NumberValue",ag)ah.Name="YAngle"end;if ag:findFirstChild("ZAngle")==nil then local ah=Instance.new("NumberValue",ag)ah.Name="ZAngle"end;return ag.C0.p,Vector3.new(ag.XAngle.Value,ag.YAngle.Value,ag.ZAngle.Value)end;function SetWeld(ag,Y,ai,aj,ak,al,am)if ag:findFirstChild("XAngle")==nil then local ah=Instance.new("NumberValue",ag)ah.Name="XAngle"end;if ag:findFirstChild("YAngle")==nil then local ah=Instance.new("NumberValue",ag)ah.Name="YAngle"end;if ag:findFirstChild("ZAngle")==nil then local ah=Instance.new("NumberValue",ag)ah.Name="ZAngle"end;local an,ao,ap=0,0,0;if ak.x>am.x then an=-math.abs(ak.x-am.x)/ai*Y else an=math.abs(ak.x-am.x)/ai*Y end;if ak.y>am.y then ao=-math.abs(ak.y-am.y)/ai*Y else ao=math.abs(ak.y-am.y)/ai*Y end;if ak.z>am.z then ap=-math.abs(ak.z-am.z)/ai*Y else ap=math.abs(ak.z-am.z)/ai*Y end;local aq,ar,as=0,0,0;if aj.x>al.x then aq=-math.abs(aj.x-al.x)/ai*Y else aq=math.abs(aj.x-al.x)/ai*Y end;if aj.y>al.y then ar=-math.abs(aj.y-al.y)/ai*Y else ar=math.abs(aj.y-al.y)/ai*Y end;if aj.z>al.z then as=-math.abs(aj.z-al.z)/ai*Y else as=math.abs(aj.z-al.z)/ai*Y end;ag.XAngle.Value=ak.x+an;ag.YAngle.Value=ak.y+ao;ag.ZAngle.Value=ak.z+ap;ag.C0=CFrame.new(aj.x+aq,aj.y+ar,aj.z+as)*CFrame.Angles(ak.x+an,ak.y+ao,ak.z+ap)end;function LoadTextures()local at=game:service("ContentProvider")for Y,Z in pairs(_)do at:Preload("http://www.roblox.com/asset/?id="..Z)wait(0.04)end end;LoadTextures()function CreateGui()for Y,Z in pairs(a.PlayerGui:children())do if Z.className=="ScreenGui"and Z.Name=="staminaGui"then Z:remove()end end;local au=Instance.new("ScreenGui",a.PlayerGui)au.Name="staminaGui"local av=Instance.new("Frame",au)av.Visible=false;av.Size=UDim2.new(0,86,0,320)av.BackgroundTransparency=1;av.Position=UDim2.new(1,-96,0.5,-160)av.Name="Container"local aw=Instance.new("TextLabel",av)aw.Size=UDim2.new(0,0,-0.1,0)aw.Position=UDim2.new(0.3,0,0.5,0)aw.TextXAlignment="Right"aw.Font="ArialBold"aw.TextTransparency=0.1;aw.TextColor3=Color3.new(0,0.6,0.8)aw.TextStrokeColor3=Color3.new(0,0.2,0.8)aw.TextStrokeTransparency=0.3;aw.FontSize=6;aw.BackgroundTransparency=1;local ax=aw:Clone()ax.Parent=av;ax.Size=UDim2.new(0,0,0.1,0)local ay=aw:Clone()ay.Parent=av;ay.Size=UDim2.new(0,0,0,0)ay.Text="-----"local az=Instance.new("Frame",av)az.Name="Backing"az.ClipsDescendants=true;az.Size=UDim2.new(1,0,0,0)az.BackgroundColor3=Color3.new(0.8,0,0)az.BackgroundTransparency=1;local aA=Instance.new("ImageLabel",az)aA.BackgroundTransparency=1;aA.Image="http://www.roblox.com/asset/?id=112474909"aA.Size=UDim2.new(1,0,0,av.Size.Y.Offset)local aB=Instance.new("Frame",av)aB.Name="Overlay"aB.ClipsDescendants=true;aB.Size=UDim2.new(1,0,1,0)aB.BackgroundColor3=Color3.new(0,0,0.8)aB.BackgroundTransparency=1;local aC=Instance.new("ImageLabel",aB)aC.BackgroundTransparency=1;aC.Image="http://www.roblox.com/asset/?id=112474911"aC.Size=UDim2.new(1,0,0,av.Size.Y.Offset)function Calculate()local aD=av.Size.Y.Offset;local aE=a0/a1*av.Size.Y.Offset;local aF=-(a0/a1-1)*av.Size.Y.Offset;az.Size=UDim2.new(1,0,0,aF)aB.Size=UDim2.new(1,0,0,aE)aB.Position=UDim2.new(0,0,0,aF)aC.Position=UDim2.new(0,0,0,-aF)aw.Text=math.floor(a0)ax.Text=a1 end;Calculate()wait(0.01)av.Visible=true end;CreateGui()a.CharacterAdded:connect(function()d=a.Character;e=d:findFirstChild("Torso")f=d:findFirstChild("Right Arm")g=d:findFirstChild("Left Arm")h=d:findFirstChild("Right Leg")i=d:findFirstChild("Left Leg")j=d:findFirstChild("Head")k=d:findFirstChild("Humanoid")l=e:findFirstChild("Right Shoulder")m=e:findFirstChild("Left Shoulder")n=e:findFirstChild("Right Hip")o=e:findFirstChild("Left Hip")p=e:findFirstChild("Neck")a0=a1;CreateGui()end)function RAY(aG,aH,aI,aJ,aK,aL)aL=aL or{d}aI=aI or aG;aK=aK or aH.unit*aH.magnitude;aJ=aJ or aG+aK;local aM=Ray.new(aG,aK)local aN,aO=workspace:FindPartOnRayWithIgnoreList(aM,aL)if aN~=nil then if aN.CanCollide==false then table.insert(aL,aN)local aP=aO;local aQ=aK-aH.unit*(aG-aP).magnitude;if aQ~=q then return RAY(aP-aH*0.01,aH,aI,aJ,aQ+aH*0.01,aL)end end end;return aN,aO,aM end;function Sit()O=false;local aN,aO=RAY(e.Position,Vector3.new(0,-4.1,0))local aR=Vector3.new(e.CFrame.lookVector.x,0,e.CFrame.lookVector.z)if aN~=nil and aN.CanCollide==true then local aS=CFrame.new(aO+Vector3.new(0,1.28,0),aO+Vector3.new(0,1.28,0)+aR)*CFrame.Angles(math.pi/6,0,0)local aT,aU=RAY(aO+Vector3.new(0,2.25,0),aR*-2.2)k.PlatformStand=true;e.CFrame=aS;local aV=Instance.new("BodyPosition",e)aV.Name="StaminaBodyObject"aV.maxForce=Vector3.new(1/0,1/0,1/0)aV.D=100;aV.position=aS.p;local aW=Instance.new("BodyGyro",e)aW.Name="StaminaBodyObject"aW.maxTorque=Vector3.new(1/0,1/0,1/0)aW.cframe=aS;aW.D=100;SetWeld(T,1,1,q,q,Vector3.new(0.34,-1,0.2),Vector3.new(math.pi/2-math.pi/6,0,math.pi/8))SetWeld(U,1,1,q,q,Vector3.new(-0.34,-1,0.2),Vector3.new(math.pi/2-math.pi/6,0,-math.pi/8))if aT~=nil and aT.CanCollide==true then V.C0=CFrame.new(0.9,0.4,-0.45)*CFrame.Angles(0,math.pi/2.13,0)*CFrame.Angles(math.pi/2.3,0,0)W.C0=CFrame.new(-0.9,0.4,-0.4)*CFrame.Angles(0,-math.pi/2.05,0)*CFrame.Angles(math.pi/2.3,0,0)X.C0=CFrame.new(0,1,0)*CFrame.Angles(-math.pi/8.8,0,0)else SetWeld(V,1,1,q,q,Vector3.new(1.4,0.4,0.1),Vector3.new(-(math.pi/6)-math.pi/10,0,math.pi/9))SetWeld(W,1,1,q,q,Vector3.new(-1.4,0.4,0.1),Vector3.new(-(math.pi/6)-math.pi/10,0,-math.pi/9))SetWeld(X,1,1,q,q,Vector3.new(0,1,0),Vector3.new(-math.pi/12,0,0))end;u=true;P="Sitting"end end;function Stand()k.PlatformStand=false;if u==true then local aR=e.Position+e.CFrame.lookVector*10000;local aS=CFrame.new(e.Position+Vector3.new(0,1.8,0),Vector3.new(aR.x,e.Position.y,aR.z))e.CFrame=aS end;for Y,Z in pairs(e:children())do if Z.Name=="StaminaBodyObject"then Z:remove()end end;n.Part0=nil;o.Part0=nil;l.Part0=nil;m.Part0=nil;T.Part0=e;T.Part1=h;T.C0=CFrame.new(0.5,-1,0)T.C1=CFrame.new(0,1,0)U.Part0=e;U.Part1=i;U.C0=CFrame.new(-0.5,-1,0)U.C1=CFrame.new(0,1,0)V.Part0=e;V.Part1=f;V.C0=CFrame.new(1.5,0.5,0)V.C1=CFrame.new(0,0.5,0)W.Part0=e;W.Part1=g;W.C0=CFrame.new(-1.5,0.5,0)W.C1=CFrame.new(0,0.5,0)X.Part0=e;X.Part1=j;X.C0=CFrame.new(0,1,0)X.C1=CFrame.new(0,-0.5,0)u=false;w=false;O=true;P="Standing"end;function Dive()a0=a0-10;a5.Value=a5.Value+10;if a5.Value>100 then a5.Value=100 end;O=false;local aH=Vector3.new(e.CFrame.lookVector.x,0,e.CFrame.lookVector.z)v=18;y=aH;local aS=CFrame.new(e.Position,aH+Vector3.new(0,e.Position.y,0))z=aS;y=aH;k.PlatformStand=true;local aX=Instance.new("BodyVelocity",e)aX.Name="StaminaBodyObject"aX.maxForce=Vector3.new(1/0,1/0,1/0)aX.velocity=Vector3.new(y.x*24,v,y.z*24)B=aX;local aW=Instance.new("BodyGyro",e)aW.Name="StaminaBodyObject"aW.maxTorque=Vector3.new(1/0,1/0,1/0)aW.cframe=CFrame.new(e.Position,e.Position+aX.velocity)*CFrame.Angles(-math.pi/2,0,0)aW.D=100;A=aW;local aY=V;aY.C1=CFrame.new(0,0.5,0)local aZ=W;aZ.C1=CFrame.new(0,0.5,0)local a_=T;a_.C1=CFrame.new(0,1,0)local b0=U;b0.C1=CFrame.new(0,1,0)local b1=X;w=true;P="Diving"for Y=1,8 do SetWeld(aY,Y,8,Vector3.new(1.5,0.5,0),q,Vector3.new(1.45,0.5,0.1),Vector3.new(-0.2,-math.pi/9,math.pi/13))SetWeld(aZ,Y,8,Vector3.new(-1.5,0.5,0),q,Vector3.new(-1.45,0.5,0.1),Vector3.new(-0.2,math.pi/9,-math.pi/13))SetWeld(a_,Y,8,Vector3.new(0.5,-1,0),q,Vector3.new(0.5,-1,0.03),Vector3.new(-0.2,-math.pi/10,math.pi/14))SetWeld(b0,Y,8,Vector3.new(-0.5,-1,0),q,Vector3.new(-0.5,-1,0.03),Vector3.new(-0.2,math.pi/10,-math.pi/14))SetWeld(b1,Y,8,Vector3.new(0,1,0),q,Vector3.new(0,1,0),Vector3.new(0.45,0,0))wait(0.025)end;local b2=0;while w==true do b2=b2+1;aW.Parent=e;local aN,aO=RAY(e.Position,aX.velocity.unit*4.6)if aN~=nil and aN.CanCollide==true then local aT,aU=RAY(e.Position,Vector3.new(0,-4,0))if aT~=nil then w="Rolling"P="DiveRolling"else e.CFrame=e.CFrame*CFrame.new(0,-0.3,0)e.Velocity=q;a5.Value=0;break end end;if b2>190 then break end;wait(0.02)end;aX.velocity=aH*20+Vector3.new(0,-0.5,0)local b3=aW.cframe;local b4=false;local b5=0;while b4==false do aW.cframe=b3*CFrame.Angles(-0.3*b5,0,0)local aN,aO=RAY(e.Position,((e.CFrame*CFrame.new(0,-1,0)).p-e.CFrame.p).unit*1.6)if aN~=nil and aN.CanCollide==true then b4=true end;local aT,aU=RAY(e.Position,Vector3.new(0,-3.8,0))if aT==nil then e.Velocity=q;break elseif b4==true then local aV=Instance.new("BodyPosition",e)aV.Name="StaminaJumpFix"aV.maxForce=Vector3.new(0,1/0,0)aV.P=7000;aV.position=aU+Vector3.new(0,2.8,0)game:service("Debris"):AddItem(aV,0.3)else aX.velocity=aH*20+Vector3.new(0,-(e.Position-aU).magnitude*3,0)end;b5=b5+1;if b5<=6 then local Y=b5;local b6,b7=GetWeld(aY)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)SetWeld(aY,Y,6,b6,b7,Vector3.new(1.35,0.5,-0.2),Vector3.new(math.pi/2.6,0,-math.pi/5.8))SetWeld(aZ,Y,6,b8,b9,Vector3.new(-1.35,0.5,-0.2),Vector3.new(math.pi/2.6,0,math.pi/5.8))SetWeld(a_,Y,6,ba,bb,Vector3.new(0.51,0.4,-0.6),Vector3.new(-0.1,0,0.05))SetWeld(b0,Y,6,bc,bd,Vector3.new(-0.51,0.4,-0.6),Vector3.new(-0.1,0,-0.05))SetWeld(b1,Y,6,be,bf,Vector3.new(0,1,0),Vector3.new(-0.4,0,0))elseif b5>=50 then break end;wait(0.02)end;e.Velocity=q;Stand()x=9 end;function FindSurface(bg,bh)local bi=bg.CFrame:pointToObjectSpace(bh)local bj=bg.Size/2;for Y,Z in pairs(Enum.NormalId:GetEnumItems())do local bk=Vector3.FromNormalId(Z)local bl=bg.CFrame:vectorToWorldSpace(bk)local bm=bi/(bj*bk)if math.abs(bm.X-1)<0.01 or math.abs(bm.Y-1)<0.01 or math.abs(bm.Z-1)<0.01 then return bl,bk end end;if bg.className=="WedgePart"then return bg.CFrame:vectorToWorldSpace(Vector3.new(0,0.707,-0.707)),Vector3.new(0,0.707,-0.707)end end;function HWallRun(bg,aG,bn)if bg.className=="Part"and bg.Shape==Enum.PartType.Block or bg.className~="Part"then a5.Value=a5.Value+9;O=false;C=true;P="HWallRunning"v=10;E=bg;local aH,bo=FindSurface(bg,aG)towall=-aH;aH=(CFrame.new(q,aH)*CFrame.Angles(0,bn,0)).lookVector;local aX=Instance.new("BodyVelocity",e)aX.Name="StaminaBodyObject"aX.maxForce=Vector3.new(1/0,1/0,1/0)aX.P=9000;aX.velocity=aH*(a3-0.5)+Vector3.new(0,v,0)local aW=Instance.new("BodyGyro",e)aW.Name="StaminaBodyObject"aW.maxTorque=Vector3.new(1/0,1/0,1/0)aW.cframe=CFrame.new(e.Position+towall*-2,e.Position)*CFrame.Angles(0,-bn,-bn/4.2)aW.D=100;local bp=Instance.new("Snap")local bq=V;if bn==-math.pi/2 then SetWeld(bq,1,1,q,q,Vector3.new(1.5,0.5,0),Vector3.new(math.pi/1.3,0.1,math.pi/2.5))else bp=bq;SetWeld(bq,1,1,q,q,Vector3.new(1.4,0.6,0),Vector3.new(-math.pi/12,0,math.pi/7))end;local br=bq.C0;local aZ=W;if bn==math.pi/2 then SetWeld(aZ,1,1,q,q,Vector3.new(-1.5,0.5,0),Vector3.new(math.pi/1.3,-0.1,-math.pi/2.5))else bp=aZ;SetWeld(aZ,1,1,q,q,Vector3.new(-1.4,0.6,0),Vector3.new(-math.pi/12,0,-math.pi/7))end;local bs=aZ.C0;local a_=T;a_.C1=CFrame.new(0,1,0)if bn==-math.pi/2 then SetWeld(a_,1,1,q,q,Vector3.new(0.5,-0.38,-0.3),Vector3.new(0,math.pi/2,0.14))else SetWeld(a_,1,1,q,q,Vector3.new(0.5,-0.8,-0.2),Vector3.new(0,math.pi/2,0.2))end;local b0=U;b0.C1=CFrame.new(0,1,0)if bn==-math.pi/2 then SetWeld(b0,1,1,q,q,Vector3.new(-0.5,-0.8,-0.2),Vector3.new(0,0,0.2))else SetWeld(b0,1,1,q,q,Vector3.new(-0.5,-0.38,-0.3),Vector3.new(0,0,0.14))end;local b1=X;SetWeld(b1,1,1,q,q,Vector3.new(0,0.9,0),Vector3.new(0,0,bn/7))e.CFrame=CFrame.new(aG+towall*-2,aG)*CFrame.Angles(0,-bn,-bn/2.2)aW.cframe=CFrame.new(aG+towall*-2,aG)*CFrame.Angles(0,-bn,-bn/2.2)local bt=0;local bu=true;local bv=0;local bw=true;local bx=bg;E=bg;while C==true do if bt>math.pi then bu=false elseif bt<-math.pi then bu=true end;if bu==true then bt=bt+0.95 elseif bu==false then bt=bt-0.95 end;if bv>math.pi then bw=false elseif bv<-math.pi then bw=true end;if bw==true then bv=bv+0.23 elseif bw==false then bv=bv-0.23 end;k.PlatformStand=true;local aN,aO=RAY(e.Position,Vector3.new(0,-3,0))local aT,aU=RAY(e.Position,towall*3.4)if aN~=nil and aN.CanCollide==true then aW.cframe=CFrame.new(aU+towall*-2,aU)*CFrame.Angles(0,-bn,0)local by=aW.cframe.p.y+aU.y-aW.cframe.p.y;e.CFrame=CFrame.new(Vector3.new(aW.cframe.p.x,by,aW.cframe.p.z),aU)*CFrame.Angles(0,-bn,0)e.Velocity=q;break end;if aT~=nil and aT.CanCollide==true then if aT~=bx then local bz=CFrame.new(e.Position,e.Position+aH)*CFrame.Angles(0,bn,0)local bA,bB=RAY(e.Position,(bz*CFrame.Angles(0,-bn/2.3,0)).lookVector*4)if bA~=nil then e.CFrame=CFrame.new(aU+towall*-2,aU)*CFrame.Angles(0,-bn*1.1,-bn/2.2)aW.cframe=CFrame.new(aU+towall*-2,aU)*CFrame.Angles(0,-bn*1.1,-bn/2.2)aH,bo=FindSurface(aT,aU)towall=-aH;aH=(CFrame.new(q,aH)*CFrame.Angles(0,bn,0)).lookVector;bx=aT;E=aT else e.CFrame=CFrame.new(e.Position,e.Position+aH)aW.cframe=CFrame.new(e.Position,e.Position+aH)e.Velocity=q;F=5;break end end;e.CFrame=CFrame.new(aU+towall*-2,aU)*CFrame.Angles(0,-bn,-bn/2.2)aW.cframe=CFrame.new(aU+towall*-2,aU)*CFrame.Angles(0,-bn,-bn/2.2)else e.CFrame=CFrame.new(e.Position,e.Position+aH)aW.cframe=CFrame.new(e.Position,e.Position+aH)e.Velocity=q;F=5;break end;local bA,bB=RAY(e.Position,e.CFrame.lookVector*2)if bA~=nil and bA.CanCollide==true then e.CFrame=CFrame.new(e.Position,e.Position+aH)aW.cframe=CFrame.new(e.Position,e.Position+aH)e.Velocity=q;F=5;break end;aX.Parent=e;aX.velocity=aH*(a3-0.5)+Vector3.new(0,v,0)aW.cframe=aW.cframe*CFrame.Angles(bt/80,bt/80,0)e.CFrame=e.CFrame*CFrame.Angles(bt/80,bt/80,0)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)SetWeld(a_,1,1,ba,bb,ba,Vector3.new(-0.2+bt/4,0,0))SetWeld(b0,1,1,bc,bd,bc,Vector3.new(-0.2+-bt/4,0,0))if bn==math.pi/2 then local b6,b7=GetWeld(bq)SetWeld(bq,1,1,b6,b7,b6,Vector3.new(0,0,0.8+bv/14))else local b8,b9=GetWeld(aZ)SetWeld(aZ,1,1,b8,b9,b8,Vector3.new(0,0,-0.8-bv/14))end;wait(0.025)if v<-100 then aW.cframe=CFrame.new(aU+towall*-2,aU)*CFrame.Angles(0,-bn,0)local by=math.abs(aW.cframe.p.y+aU.y-aW.cframe.p.y)e.CFrame=CFrame.new(Vector3.new(aW.cframe.p.x,by,aW.cframe.p.z),aU)*CFrame.Angles(0,-bn,0)break end end;if C=="Jumping"then F=6;bq.C1=CFrame.new(0,0.5,0)aZ.C1=CFrame.new(0,0.5,0)if bn==-math.pi/2 then aZ.C0=CFrame.new(-1.35,0.5,0)*CFrame.Angles(0,bn/2.4,-math.pi/3)else aZ.C0=CFrame.new(-1.35,0.5,0)*CFrame.Angles(0,bn/2.4,-math.pi/4)end;a_.C1=CFrame.new(0,1,0)if bn==-math.pi/2 then a_.C0=CFrame.new(0.5,-0.8,0)*CFrame.Angles(0,math.pi+bn/2.4,-math.pi/4)else a_.C0=CFrame.new(0.5,-0.8,0)*CFrame.Angles(0,bn/2.4,math.pi/4)end;b0.MaxVelocity=10;b0.DesiredAngle=0;b0.C1=CFrame.new(0,1,0)if bn==-math.pi/2 then b0.C0=CFrame.new(-0.5,-0.8,0)*CFrame.Angles(0,math.pi+bn/2.4,math.pi/4)else b0.C0=CFrame.new(-0.5,-0.8,0)*CFrame.Angles(0,bn/2.4,-math.pi/4)end;local b1=X;b1.C1=CFrame.new(0,-0.5,0)*CFrame.Angles(0,bn/2.4,0)b1.C0=CFrame.new(0,1,0)local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)v=26;local bC=0;local bD=bn/2;local b5=1;local bE=(CFrame.new(q,aH)*CFrame.Angles(0,-bn/2.4,0)).lookVector;G=bE;aX.velocity=bE*(a3+5)+Vector3.new(0,v,0)while C=="Jumping"do local aN,aO=RAY(e.Position,Vector3.new(0,-4,0))local aT,aU=RAY(e.Position,bE*1.4)if aN~=nil and aN.CanCollide==true then local by=math.abs(aO.y-e.CFrame.p.y)e.CFrame=CFrame.new(aO+Vector3.new(0,2.9,0),aO+Vector3.new(0,2.9,0)+bE)e.Velocity=q;break end;if aT~=nil and aT.CanCollide==true then bC=bC+1;if bC==4 then e.CFrame=CFrame.new(e.Position,e.Position+bE)*CFrame.new(0,0,0.4)e.Velocity=Vector3.new(0,e.Velocity.y,0)F=5;J=5;wait(0.02)break end end;if bn/2>0 then if bD>0.2 then bD=bD-0.055 end else if bD<-0.2 then bD=bD+0.055 end end;if b5<=5 then if bn==-math.pi/2 then SetWeld(bq,b5,5,b6,b7,Vector3.new(1.35,0.5,0),Vector3.new(0,bn/2.4,math.pi/4))SetWeld(aZ,b5,5,b8,b9,Vector3.new(-1.35,0.5,0),Vector3.new(0,bn/2.4,-math.pi/3))SetWeld(a_,b5,5,ba,bb,Vector3.new(0.5,-0.8,0),Vector3.new(0,-bn/1.7,0))a_.C0=a_.C0*CFrame.Angles(-math.pi/4/5*b5,0,0)SetWeld(b0,b5,5,bc,bd,Vector3.new(-0.5,-0.8,0),Vector3.new(0,-bn/1.7,0))b0.C0=b0.C0*CFrame.Angles(math.pi/4/5*b5,0,0)else SetWeld(bq,b5,5,b6,b7,Vector3.new(1.35,0.5,0),Vector3.new(0,bn/2.4,math.pi/3))SetWeld(aZ,b5,5,b8,b9,Vector3.new(-1.35,0.5,0),Vector3.new(0,bn/2.4,-math.pi/4))SetWeld(a_,b5,5,ba,bb,Vector3.new(0.5,-0.8,0),Vector3.new(0,-bn/1.7,0))a_.C0=a_.C0*CFrame.Angles(math.pi/4/5*b5,0,0)SetWeld(b0,b5,5,bc,bd,Vector3.new(-0.5,-0.8,0),Vector3.new(0,-bn/1.7,0))b0.C0=b0.C0*CFrame.Angles(-math.pi/4/5*b5,0,0)end;b5=b5+1 end;aW.Parent=e;aW.cframe=CFrame.new(q,aH)*CFrame.Angles(0,bn/15,-bD)aX.velocity=bE*(a3+5)+Vector3.new(0,v,0)if bC~=0 then aX.velocity=Vector3.new(0,aX.velocity.y,0)end;if v<-120 then break end;wait(0.025)end end;k.PlatformStand=false;aX:remove()D=false;Stand()C=false end end;function VWR(bg,aG)if bg.className=="Part"and bg.Shape==Enum.PartType.Block or bg.className~="Part"then print("VWR Activated")a5.Value=a5.Value+9;O=false;H=true;P="VWallRunning"v=0;local bF=1;I=bg;local aH,bo=FindSurface(bg,aG)towall=-aH;aH=(CFrame.new(q,-aH)*CFrame.Angles(math.pi/2,0,0)).lookVector;local aX=Instance.new("BodyVelocity",e)aX.Name="StaminaBodyObject"aX.maxForce=Vector3.new(1/0,1/0,1/0)aX.P=9000;aX.velocity=aH*(a3-1)*bF;local aW=Instance.new("BodyGyro",e)aW.Name="StaminaBodyObject"aW.maxTorque=Vector3.new(1/0,1/0,1/0)aW.D=100;local bG=aG+-towall*1.8;aW.cframe=CFrame.new(bG,bG+towall)*CFrame.Angles(math.pi/5,0,0)e.CFrame=CFrame.new(bG,bG+towall)*CFrame.Angles(math.pi/5,0,0)local bq=V;SetWeld(bq,1,1,q,q,Vector3.new(1.4,0.45,-0.1),Vector3.new(-math.pi/3.2,0,math.pi/8))local aZ=W;SetWeld(aZ,1,1,q,q,Vector3.new(-1.4,0.45,-0.1),Vector3.new(-math.pi/3.2,0,-math.pi/8))local a_=T;SetWeld(a_,1,1,q,q,Vector3.new(0.48,-0.6,-0.1),Vector3.new(0,math.pi/2,0))a_.C1=CFrame.new(0,0.7,0.2)*CFrame.Angles(0,math.pi/2,0)local b0=U;SetWeld(b0,1,1,q,q,Vector3.new(-0.48,-0.6,-0.1),Vector3.new(0,math.pi/2,0))b0.C1=CFrame.new(0,0.7,0.2)*CFrame.Angles(0,math.pi/2,0)local b1=X;SetWeld(b1,1,1,q,q,Vector3.new(0,1,0),Vector3.new(math.pi/20,0,0))local bt=0;local bu=true;while H==true do local aN,aO=RAY(e.Position,towall*2.1)local aT,aU=RAY(e.Position,(CFrame.new(q,towall)*CFrame.Angles(math.pi/2,0,0)).lookVector*2.4)if bt>math.pi then bu=false elseif bt<-math.pi then bu=true end;if bu==true then bt=bt+1.3*(bF+0.2)elseif bu==false then bt=bt-1.3*(bF+0.2)end;aX.velocity=aH*(a3-1)*bF;if K==true then aX.velocity=aX.velocity+(CFrame.new(q,towall)*CFrame.Angles(0,math.pi/2,0)).lookVector*(11*bF+5)end;if L==true then aX.velocity=aX.velocity-(CFrame.new(q,towall)*CFrame.Angles(0,math.pi/2,0)).lookVector*(11*bF+5)end;aW.cframe=CFrame.new(bG,bG+towall)*CFrame.Angles(math.pi/5,0,0)*CFrame.Angles(0,bt/60,0)SetWeld(bq,1,1,q,q,Vector3.new(1.4,0.45,-0.1),Vector3.new(-math.pi/3.2,bt/52,math.pi/8+bt/30))SetWeld(aZ,1,1,q,q,Vector3.new(-1.4,0.45,-0.1),Vector3.new(-math.pi/3.2,bt/52,-math.pi/8+-bt/30))SetWeld(a_,1,1,q,q,Vector3.new(0.51,-0.75,-(bt/30)),Vector3.new(0,math.pi/2,bt/8-0.3))SetWeld(b0,1,1,q,q,Vector3.new(-0.51,-0.75,bt/30),Vector3.new(0,math.pi/2,-bt/8-0.3))if aN==nil then local bH=e.Position+e.CFrame.lookVector*100;e.CFrame=CFrame.new(e.Position,Vector3.new(bH.x,e.Position.y,bH.z))break end;if aT~=nil then bF=0;H="Falling"P="VWRFalling"v=-7;break end;wait(0.02)bF=bF-0.028;if bF<=0.15 then H="Falling"P="VWRFalling"end end;if H=="Falling"then v=v-1;local bI=-towall*5+Vector3.new(0,v,0)aX.velocity=CFrame.new(q,bI).lookVector*bI.magnitude;local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)local b2=0;while H=="Falling"do b2=b2+1;local aN,aO=RAY(j.Position,Vector3.new(0,-2.4,0))bI=-towall*5+Vector3.new(0,v,0)aX.velocity=CFrame.new(q,bI).lookVector*bI.magnitude;if K==true then aX.velocity=aX.velocity+(CFrame.new(q,towall)*CFrame.Angles(0,math.pi/2,0)).lookVector*9 end;if L==true then aX.velocity=aX.velocity-(CFrame.new(q,towall)*CFrame.Angles(0,math.pi/2,0)).lookVector*9 end;aW.cframe=CFrame.new(q,-towall*30+Vector3.new(0,v,0))*CFrame.Angles(-math.pi/2.55,math.pi,0)if b2<=35 then SetWeld(bq,b2,35,b6,b7,Vector3.new(1.4,0.45,-0.1),Vector3.new(math.pi/9,0,math.pi/9))SetWeld(aZ,b2,35,b8,b9,Vector3.new(-1.4,0.45,-0.1),Vector3.new(math.pi/9,0,-math.pi/9))SetWeld(a_,b2,35,ba,bb,Vector3.new(0.5,-0.75,0),Vector3.new(0,math.pi/2,math.pi/9))a_.C1=CFrame.new(0,0.7+0.3/35*b2,0.2-0.2/35*b2)*CFrame.Angles(0,math.pi/2,0)SetWeld(b0,b2,35,bc,bd,Vector3.new(-0.5,-0.75,0),Vector3.new(0,math.pi/2,math.pi/9))b0.C1=CFrame.new(0,0.7+0.3/35*b2,0.2-0.2/35*b2)*CFrame.Angles(0,math.pi/2,0)SetWeld(b1,b2,35,be,bf,Vector3.new(0,1,0),Vector3.new(-math.pi/6,0,0))end;if aN~=nil then aX:remove()e.CFrame=CFrame.new(aO+Vector3.new(0,2,0),aO+Vector3.new(0,2,0)+-towall*25+Vector3.new(0,v,0))*CFrame.Angles(-math.pi/2.55,math.pi,0)e.Velocity=q;e.RotVelocity=q;local aV=Instance.new("BodyPosition",e)aV.maxForce=Vector3.new(1/0,1/0,1/0)aV.position=e.CFrame.p;game:service("Debris"):AddItem(aV,0.16)a5.Value=0;break end;if v>-180 then v=v-1.9 end;if b2>200 then break end;wait(0.02)end;local aV=Instance.new("BodyPosition")local bJ=b2;local bK=0;local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)local bL;while H=="BackflipFromFall"do bJ=bJ+1;local aN,aO=RAY(j.Position+Vector3.new(0,2,0),Vector3.new(0,-4.4,0))if bJ-b2<13 then bK=bK-math.pi*1.1/13 end;if bJ-b2<=13 then SetWeld(bq,bJ-b2,13,b6,b7,Vector3.new(1.4,0.5,0.1),Vector3.new(math.pi/2,0.1,math.pi/2))SetWeld(aZ,bJ-b2,13,b8,b9,Vector3.new(-1.4,0.5,0.1),Vector3.new(math.pi/2,-0.1,-math.pi/2))SetWeld(a_,bJ-b2,13,ba,bb,Vector3.new(0.52,-0.3,-0.65),Vector3.new(0,math.pi/2,0))SetWeld(b0,bJ-b2,13,bc,bd,Vector3.new(-0.51,-0.9,-0.05),Vector3.new(0,math.pi/2,0))SetWeld(b1,bJ-b2,13,be,bf,Vector3.new(0,0.9,0),Vector3.new(-math.pi/7,0,0))end;bI=-towall*5+Vector3.new(0,v,0)aX.velocity=CFrame.new(q,bI).lookVector*bI.magnitude;if K==true then aX.velocity=aX.velocity+(CFrame.new(q,towall)*CFrame.Angles(0,math.pi/2,0)).lookVector*9 end;if L==true then aX.velocity=aX.velocity-(CFrame.new(q,towall)*CFrame.Angles(0,math.pi/2,0)).lookVector*9 end;aW.cframe=CFrame.new(q,-towall*30+Vector3.new(0,v,0))*CFrame.Angles(-math.pi/2.4+bK,math.pi,0)if aN~=nil then aX:remove()bL=aO-towall*1.3;if bJ-b2>8 then aV=Instance.new("BodyPosition",e)aV.maxForce=Vector3.new(1/0,1/0,1/0)aV.position=aO+Vector3.new(0,2.4,0)+-towall*1;H="LandingFall"else e.CFrame=aW.cframe+aO+Vector3.new(0,2.3,0)e.Velocity=q;e.RotVelocity=q;local aV=Instance.new("BodyPosition",e)aV.maxForce=Vector3.new(1/0,1/0,1/0)aV.position=e.CFrame.p;game:service("Debris"):AddItem(aV,0.14)a5.Value=0 end;break end;if v>-180 then v=v-1.9 end;if bJ>200 then break end;wait(0.02)end;if H=="LandingFall"then print("Landing")a_.C1=CFrame.new(0,1,0)*CFrame.Angles(0,math.pi/2,0)b0.C1=CFrame.new(0,1,0)*CFrame.Angles(0,math.pi/2,0)local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)local ah;local bM;if v<-70 then ah=a8:Clone()ah.Parent=e;ah.Name="AirLandingEffect"ah.BrickColor=BrickColor.new("Medium stone grey")ah.Transparency=0.3;ah.CFrame=CFrame.new(bL+Vector3.new(0,0.4,0))bM=Instance.new("SpecialMesh",ah)bM.MeshId="http://www.roblox.com/asset/?id=20329976"bM.Scale=Vector3.new(0,0,0)end;local b3=CFrame.new(q,Vector3.new(towall.x,0,towall.z))aW.cframe=b3*CFrame.Angles(-math.pi/7,0,0)local bN=math.pi/7/2;for Y=1,6 do k.PlatformStand=true;SetWeld(bq,Y,6,b6,b7,Vector3.new(1.2,0.5,0.2),Vector3.new(math.pi/2,0.5,math.pi/1.2))SetWeld(aZ,Y,6,b8,b9,Vector3.new(-1.2,0.5,0.2),Vector3.new(math.pi/2,-0.5,-math.pi/1.2))SetWeld(a_,Y,6,ba,bb,Vector3.new(0.51,-0.3,-0.8),Vector3.new(0,math.pi/2,-math.pi/7))SetWeld(b0,Y,6,bc,bd,Vector3.new(-0.51,-0.8,-0.7),Vector3.new(0,math.pi/2,-math.pi/3))SetWeld(b1,Y,6,be,bf,Vector3.new(0,0.85,0),Vector3.new(-math.pi/8,0,0))aV.position=aV.position+Vector3.new(0,-0.07,0)aW.cframe=b3*CFrame.Angles(-bN*2+bN/6*Y,0,0)e.CFrame=aW.cframe+aV.position;if ah~=nil then bM.Scale=bM.Scale+Vector3.new(1.3,0.35,1.3)ah.Transparency=0.3+0.7/6*Y end;wait(0.02)end;if ah~=nil then ah:remove()end;local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)for Y=1,6 do k.PlatformStand=true;SetWeld(bq,Y,6,b6,b7,Vector3.new(1.5,0.5,0),Vector3.new(0,0,0))SetWeld(aZ,Y,6,b8,b9,Vector3.new(-1.5,0.5,0),Vector3.new(0,0,0))SetWeld(a_,Y,6,ba,bb,Vector3.new(0.5,-1,0),Vector3.new(0,math.pi/2,0))SetWeld(b0,Y,6,bc,bd,Vector3.new(-0.5,-1,0),Vector3.new(0,math.pi/2,0))SetWeld(b1,Y,6,be,bf,Vector3.new(0,1,0),Vector3.new(0,0,0))aV.position=aV.position+Vector3.new(0,0.1,0)aW.cframe=b3*CFrame.Angles(-bN+bN/6*Y,0,0)e.CFrame=aW.cframe+aV.position;wait(0.02)end;aV:remove()end end;aX:remove()aW:remove()H=false;Stand()end end;function Slide(aG)a5.Value=a5.Value+6;P="Sliding"M=true;v=e.Velocity.y;local bO=Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude+10;local aH=Vector3.new(e.Velocity.x,0,e.Velocity.z).unit;local aX=Instance.new("BodyVelocity",e)aX.maxForce=Vector3.new(1/0,1/0,1/0)aX.velocity=aH*bO;local aW=Instance.new("BodyGyro",e)aW.maxTorque=Vector3.new(1/0,1/0,1/0)aW.cframe=CFrame.new(q,aH)*CFrame.Angles(math.pi/2.2,0.24,0)local bq=T;local aZ=U;local a_=V;local b0=W;local b1=X;local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)SetWeld(bq,1,1,q,q,Vector3.new(b6.x,b6.y,b6.z),Vector3.new(b7.x,math.pi/2,b7.z))bq.C1=CFrame.new(0,1,0)*CFrame.Angles(0,math.pi/2,0)SetWeld(aZ,1,1,q,q,Vector3.new(b8.x,b8.y,b8.z),Vector3.new(b9.x,math.pi/2,b9.z))aZ.C1=CFrame.new(0,1,0)*CFrame.Angles(0,math.pi/2,0)local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)local b5=0;local bP;while M==true do b5=b5+1;k.PlatformStand=true;local bQ,bR=RAY(e.Position+Vector3.new(0,0.03,0),aH*2.5)local aT,aU=RAY(e.Position-Vector3.new(0,0.2,0),aH*2.5)local bS,bT=RAY(e.Position,Vector3.new(0,-2.6,0))aX.velocity=aH*bO+Vector3.new(0,v,0)if b5<=5 then SetWeld(bq,b5,5,b6,b7,Vector3.new(0.5,-0.8,-0.15),Vector3.new(0,math.pi/2+0.1,-0.4))SetWeld(aZ,b5,5,b8,b9,Vector3.new(-0.5,-1,0),Vector3.new(0,math.pi/2-0.4,0))SetWeld(a_,b5,5,ba,bb,Vector3.new(1.5,0.5,0),Vector3.new(-0.7,-0.24,math.pi/5))SetWeld(b0,b5,5,bc,bd,Vector3.new(-1.5,0.5,0),Vector3.new(-0.1,0,-math.pi/1.5))SetWeld(b1,b5,5,be,bf,Vector3.new(0,1,0),Vector3.new(-0.5,-0.2,0))end;if bQ~=nil and bQ.CanCollide==true or aT~=nil and aT.CanCollide==true then aX:remove()aW:remove()M="HitObject"end;if bS~=nil then v=0;e.CFrame=CFrame.new(bT,bT+aH)*CFrame.Angles(math.pi/2.2,0.24,0)+Vector3.new(0,0.7,0)bO=bO-0.95 else if v>-180 then v=v-5.6 end;bO=bO-0.36 end;if bO<7 then M=false end;wait(0.02)end;if M==false then local b6,b7=GetWeld(bq)local b8,b9=GetWeld(aZ)local ba,bb=GetWeld(a_)local bc,bd=GetWeld(b0)local be,bf=GetWeld(b1)for Y=1,4 do SetWeld(bq,Y,4,b6,b7,Vector3.new(0.5,-1,0),Vector3.new(0,math.pi/2,0))SetWeld(aZ,Y,4,b8,b9,Vector3.new(-0.5,-1,0),Vector3.new(0,math.pi/2,0))SetWeld(a_,Y,4,ba,bb,Vector3.new(1.5,0.5,0),q)SetWeld(b0,Y,4,bc,bd,Vector3.new(-1.5,0.5,0),q)SetWeld(b1,Y,4,be,bf,Vector3.new(0,1,0),q)local aN,aO=RAY(e.Position,Vector3.new(0,-2.6,0))aW.cframe=CFrame.new(q,aH)*CFrame.Angles(math.pi/2.2-math.pi/2.2/4*Y,0.24-0.24/4*Y,0)aX.velocity=aH*bO+Vector3.new(0,v,0)if aN~=nil then v=0;e.CFrame=CFrame.new(aO,aO+aH)*CFrame.Angles(math.pi/2.2-math.pi/2.2/4*Y,0.24-0.24/4*Y,0)+Vector3.new(0,0.7+1.8/4*Y,0)bO=bO-0.95 else if v>-180 then v=v-5.6 end;bO=bO-0.36 end;wait(0.02)end;local aN,aO=RAY(e.Position,Vector3.new(0,-2.6,0))e.CFrame=CFrame.new(aO,aO+aH)+Vector3.new(0,3,0)end;aX:remove()aW:remove()N=10;Stand()end;function KD(bU)if a4.Value==false then if bU==string.char(32)then t=true;local bS,bT=RAY(e.Position,Vector3.new(0,-3.7,0))local aN,aO=RAY(e.Position+Vector3.new(0,1.1,0),e.CFrame.lookVector*2.3)local bV,bW;local bX,bY;if C==false then bV,bW=RAY(e.Position,((e.CFrame*CFrame.new(1.5,0,-0.2)).p-e.CFrame.p).unit*3.9)bX,bY=RAY(e.Position,((e.CFrame*CFrame.new(-1.5,0,-0.2)).p-e.CFrame.p).unit*3.9)elseif C=="Jumping"then bV,bW=RAY(e.Position,((CFrame.new(e.Position,e.Position+G)*CFrame.new(1.5,0,-0.2)).p-e.Position).unit*3.9)bX,bY=RAY(e.Position,((CFrame.new(e.Position,e.Position+G)*CFrame.new(-1.5,0,-0.2)).p-e.Position).unit*3.9)end;if P=="Standing"and s==true and(aN==nil or aN.CanCollide==false)and(bV==nil or bV.CanCollide==false)and(bX==nil or bX.CanCollide==false)and(bS==nil or bS.CanCollide==false)and(e.Velocity.y>6 and e.Velocity.y<50)and x<=0 then if a0>=10 then Dive()end end;if aN==nil and H=="Falling"then H="BackflipFromFall"end;if s==true and e.Velocity.y>-50 and w==false and x<=0 then local aT,aU=RAY(e.Position,Vector3.new(0,-3.5,0))if aN~=nil then if P=="Standing"and J==0 then if aT==nil or aT.CanCollide==false then VWR(aN,aO)end end end;if(C==false or C=="Jumping"and(E~=bV or E~=bX))and F==0 and H==false then if(aN==nil or C=="Jumping")and(bV~=nil and bV.Parent:findFirstChild("Humanoid")==nil and bV.Parent.className~="Hat"or bX~=nil and bX.Parent:findFirstChild("Humanoid")==nil and bX.Parent.className~="Hat")then if aT==nil or aT.CanCollide==false then local bZ=(bW-e.Position).magnitude;local b_=(bY-e.Position).magnitude;if bZ<b_ then if C=="Jumping"and E~=bV then C=false;while O==false do wait(0.01)end;print("2nd Right Activated!")HWallRun(bV,bW,-math.pi/2)else if aN==nil then print("Right Activated")HWallRun(bV,bW,-math.pi/2)end end elseif b_<bZ then if C=="Jumping"and E~=bX then C=false;while O==false do wait(0.01)end;print("2nd Left Activated!")HWallRun(bX,bY,math.pi/2)else if aN==nil then print("Left Activated")HWallRun(bX,bY,math.pi/2)end end end end end end end;if C==true then C="Jumping"P="HWRJumping"end elseif bU==string.char(48)then s=true elseif bU==string.char(50)then if P=="Standing"then Sit()elseif C==true then D=true end elseif bU==string.char(52)then if s==true and P=="Standing"and N==0 and Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude>15 and e.Velocity.y>-40 then print("Sliding")Slide()end elseif bU=="a"then K=true elseif bU=="d"then L=true end end end;function KU(bU)if bU==string.char(32)then t=false elseif bU==string.char(48)then s=false elseif bU==string.char(50)then if P=="Sitting"then Stand()end elseif bU==string.char(52)then M=false elseif bU=="a"then K=false elseif bU=="d"then L=false end end;b.KeyDown:connect(function(bU)KD(bU)end)b.KeyUp:connect(function(bU)KU(bU)end)T=Instance.new("Snap",e)GetWeld(T)U=Instance.new("Snap",e)GetWeld(U)V=Instance.new("Snap",e)GetWeld(V)W=Instance.new("Snap",e)GetWeld(W)X=Instance.new("Snap",e)GetWeld(X)Stand()local c0=Instance.new("BodyGyro")c0.D=100;local c1="Idle"local c2=c1;local c3=(f.CFrame*CFrame.new(0,-1,0)).p;local c4=(g.CFrame*CFrame.new(0,-1,0)).p;local a9=0;local c5=0;local c6=tick()local c7={}local c8={}local c9=0;for Y=1,13 do local ca=a8:Clone()ca.Name="Part"..Y;local bM=Instance.new("SpecialMesh",ca)bM.MeshId="http://www.roblox.com/Asset/?id=9856898"bM.TextureId="http://www.roblox.com/Asset/?id=48358980"table.insert(c7,{ca,bM})end;for Y=1,13 do local ca=a8:Clone()ca.Name="Part"..Y;local bM=Instance.new("SpecialMesh",ca)bM.MeshId="http://www.roblox.com/Asset/?id=9856898"bM.TextureId="http://www.roblox.com/Asset/?id=48358980"table.insert(c8,{ca,bM})end;game:service("RunService").Stepped:connect(function()c1="Idle"a9=a9+3;a9=a9%360;if S>math.pi then Q=false elseif S<-math.pi then Q=true end;if Q==true then S=S+R elseif Q==false then S=S-R end;local aN,aO=RAY(e.Position,Vector3.new(0,-3.9,0))if s==true then k.WalkSpeed=a3 else k.WalkSpeed=16 end;if r>=70 and r<74 and Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude>25 then r=r+1 elseif r<=74 and r>70 and Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude<20 then r=r-1 end;if a4.Value==true then k.WalkSpeed=0 end;if u==true then local aT,aU=RAY(e.Position,Vector3.new(0,-2.2,0))k.PlatformStand=true;if aT==nil then Stand()end end;if w==true then k.PlatformStand=true;B.velocity=Vector3.new(y.x*(a3+2),v,y.z*(a3+2))A.cframe=CFrame.new(e.Position,e.Position+B.velocity)*CFrame.Angles(-math.pi/2,0,0)if v>-180 then v=v-2 end end;if x>0 then x=x-1 end;if C==true then if D==false then v=v-0.4 else v=v-2 end elseif C=="Jumping"then v=v-1.7 end;if Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude>18 and P=="Standing"and s==true then if a0>0 then a0=a0-0.5;if a0<0 then s=false;a0=0 end else s=false;a0=0 end;if P=="Standing"then R=0.85;SetWeld(T,1,1,q,q,Vector3.new(0.5,-1,0),Vector3.new(-S/4.85,0,0))SetWeld(U,1,1,q,q,Vector3.new(-0.5,-1,0),Vector3.new(S/4.85,0,0))SetWeld(V,1,1,q,q,Vector3.new(1.5,0.5,0),Vector3.new(S/3.5,0,0))SetWeld(W,1,1,q,q,Vector3.new(-1.5,0.5,0),Vector3.new(-S/3.5,0,0))end elseif Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude>12 and P~="Sliding"then if a0<a1 then a0=a0+0.5;if a0>a1 then a0=a1 end else a0=a1 end;if P=="Standing"then R=0.65;SetWeld(T,1,1,q,q,Vector3.new(0.5,-1,0),Vector3.new(-S/7,0,0))SetWeld(U,1,1,q,q,Vector3.new(-0.5,-1,0),Vector3.new(S/7,0,0))SetWeld(V,1,1,q,q,Vector3.new(1.5,0.5,0),Vector3.new(S/5,0,0))SetWeld(W,1,1,q,q,Vector3.new(-1.5,0.5,0),Vector3.new(-S/5,0,0))end elseif Vector3.new(e.Velocity.x,0,e.Velocity.z).magnitude<2 then R=0.1;if P=="Standing"then SetWeld(T,1,1,q,q,Vector3.new(0.5,-1,0),Vector3.new(-S/38,0,0))SetWeld(U,1,1,q,q,Vector3.new(-0.5,-1,0),Vector3.new(S/38,0,0))SetWeld(V,1,1,q,q,Vector3.new(1.5,0.5,0),Vector3.new(S/30,0,0))SetWeld(W,1,1,q,q,Vector3.new(-1.5,0.5,0),Vector3.new(-S/30,0,0))end;if a0<a1 then if u==false then a0=a0+0.65 else a0=a0+1.02 end;if a0>a1 then a0=a1 end else a0=a1 end end;if aN==nil then if e.Velocity.y>1 or e.Velocity.y<-1 and e.Velocity.y>-90 then if P=="Standing"then c1="Rising"R=0.1;SetWeld(T,1,1,q,q,Vector3.new(0.5,-1,0),Vector3.new(-S/38,0,0))SetWeld(U,1,1,q,q,Vector3.new(-0.5,-1,0),Vector3.new(S/38,0,0))SetWeld(V,1,1,q,q,Vector3.new(1.5,0.5,0),Vector3.new(math.pi-0.2+S/30,0,0))SetWeld(W,1,1,q,q,Vector3.new(-1.5,0.5,0),Vector3.new(math.pi-0.2+-S/30,0,0))if c0.Parent~=nil then c0.Parent=e;c0.maxTorque=Vector3.new(1/0,10000,1/0)local cb=e.CFrame.lookVector*100;c0.cframe=CFrame.new(q,Vector3.new(cb.x,0,cb.z))c0.Parent=nil end end end end;if aN==nil then local aT,aU=RAY(e.Position,Vector3.new(0,-6,0))if aT==nil then if e.Velocity.y<-90 then if P=="Standing"then c1="Falling"R=1.1;c0.Parent=e;c0.maxTorque=Vector3.new(1/0,10000,1/0)local cb=e.CFrame.lookVector*100;c0.cframe=CFrame.new(q,Vector3.new(cb.x,0,cb.z))*CFrame.Angles(-math.pi/11,S/70,0)SetWeld(T,1,1,q,q,Vector3.new(0.45,-0.8,0),Vector3.new(S/27-0.3,0,0.18))SetWeld(U,1,1,q,q,Vector3.new(-0.45,-0.8,0),Vector3.new(-S/27-0.3,0,-0.18))SetWeld(V,1,1,q,q,Vector3.new(1.4,0.5,0),Vector3.new(math.pi+0.2+S/26,0,0.18))SetWeld(W,1,1,q,q,Vector3.new(-1.4,0.5,0),Vector3.new(math.pi+0.2+-S/26,0,-0.18))end end elseif aT.CanCollide==true then if c0.Parent~=nil then c0.Parent=e;c0.maxTorque=Vector3.new(1/0,10000,1/0)local cb=e.CFrame.lookVector*100;c0.cframe=CFrame.new(q,Vector3.new(cb.x,0,cb.z))c0.Parent=nil end end end;if c1=="Idle"and c0.Parent~=nil then c0.Parent=nil end;if math.abs(c6-tick())>0.05 then c6=tick()local cc=HSV(a9,0.7,1)c5=c5%#c7+1;if a5.Value>25 then local cd=(g.CFrame*CFrame.new(0,-1,0)).p;local ce=(f.CFrame*CFrame.new(0,-1,0)).p;local ca=c7[c5]ca[1].Parent=a7;ca[1].CFrame=CFrame.new((cd+c4)/2,cd)ca[2].Scale=Vector3.new(0.5,0.5,(cd-c4).magnitude*2)ca[2].VertexColor=Vector3.new(cc.r,cc.g,cc.b)ca[1].Transparency=math.abs(a5.Value/120-0.8)ca[1].Transparency=ca[1].Transparency+1/#c7;local ca=c8[c5]ca[1].Parent=a7;ca[1].CFrame=CFrame.new((ce+c3)/2,ce)ca[2].Scale=Vector3.new(0.5,0.5,(ce-c3).magnitude*2)ca[2].VertexColor=Vector3.new(cc.r,cc.g,cc.b)ca[1].Transparency=math.abs(a5.Value/120-0.8)ca[1].Transparency=ca[1].Transparency+1/#c7 end;for Y,Z in pairs(c7)do if Z[1].Transparency<0.9 then Z[1].Transparency=Z[1].Transparency+1/#c7;c8[Y][1].Transparency=c8[Y][1].Transparency+1/#c7 elseif Z[1].Transparency~=1 then Z[1].Transparency=1;Z[1].Position=Vector3.new(50000,0,0)c8[Y][1].Transparency=1;c8[Y][1].Position=Vector3.new(50000,0,0)end end;c3=(f.CFrame*CFrame.new(0,-1,0)).p;c4=(g.CFrame*CFrame.new(0,-1,0)).p end;if a5.Value>140 then if d.Parent~=nil then d:remove()end end;if a6>0 then a6=a6-1 end;if F>0 then F=F-1 end;if J>0 then if aN~=nil and J>0 then J=J-1 end end;if N>0 then N=N-1 end;if P=="HWallRunning"or P=="VWallRunning"then a5.Value=a5.Value+0.24;if a5.Value>100 then a5.Value=100 end;a6=40 elseif P=="Diving"then a6=30 elseif P=="Sliding"then a6=15 elseif P=="Standing"or P=="Sitting"then if a5.Value>0 and a6<=0 then a5.Value=a5.Value-0.37;if a5.Value<0 then a5.Value=0 end end end;c.FieldOfView=r;prevanimbgcount=c9;a3=a2+a5.Value/100*2.4;c2=c1;Calculate()end)
